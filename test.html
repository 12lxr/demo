<head>
    <style> body { margin: 0; } </style>
  
    <script src="/Users/taoliankuan/Desktop/docre/deepke/assets/js/3d-force-graph.js"></script>
    <script src="/Users/taoliankuan/Desktop/docre/deepke/assets/js/three.js"></script>

    <script src="/Users/taoliankuan/Desktop/docre/deepke/assets/js/three-spritetext.js"></script>
    <!--<script src="../../dist/3d-force-graph.js"></script>-->
</head>
  
  <body>
    <div id="3d-graph" style="width:400px;height:200px"></div>
  
    <script>
      // Random tree
      const N = 10;
      const gData = {
        nodes: [...Array(N).keys()].map(i => ({ id: i })),
        links: [...Array(N).keys()]
          .filter(id => id)
          .map(id => ({
            source: id,
            target: Math.round(Math.random() * (id-1))
          }))
      };
  
      const Graph = ForceGraph3D()
        (document.getElementById('3d-graph'))
          .graphData(gData)
          .backgroundColor("white")
          .nodeAutoColorBy('group')
        .nodeThreeObject(node => {
          const sprite = new SpriteText(node.id);
          sprite.material.depthWrite = false; // make sprite background transparent
          sprite.color = 'black';
          sprite.textHeight = 20;
          return sprite;
        })
          .linkThreeObjectExtend(true)
          .linkThreeObject(link => {
          // extend link with text sprite
            const sprite = new SpriteText(`${link.source} > ${link.target}`);
            sprite.color = 'black';
            sprite.textHeight = 20;
            return sprite;
            })
            .linkPositionUpdate((sprite, { start, end }) => {
                const middlePos = Object.assign(...['x', 'y', 'z'].map(c => ({
                    [c]: start[c] + (end[c] - start[c]) / 2 // calc middle point
            })));
          // Position sprite
            Object.assign(sprite.position, middlePos);
            });
        Graph.d3Force('charge').strength(-120);
    </script>
  </body>
  